
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Antares Campana | Experiencia Interactiva</title>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,700&family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --gold: #d4af37;
      --dark-bg: #0a0a0b;
      --card-bg: rgba(20, 20, 22, 0.85);
      --border: rgba(212, 175, 55, 0.3);
      --success: #10b981;
      --error: #ef4444;
      --pedidos-ya: #ea044e;
      --fb-blue: #1877F2;
      --ig-gradient: linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; cursor: default; }
    
    body {
      background-color: var(--dark-bg);
      color: #e2e8f0;
      font-family: 'Plus Jakarta Sans', sans-serif;
      overflow-x: hidden;
      padding-bottom: 100px;
    }

    /* --- BACKGROUND --- */
    #bg-video {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      object-fit: cover; z-index: -4; filter: brightness(0.3);
    }

    /* --- TOP BAR --- */
    .top-bar {
      position: fixed; top: 0; width: 100%; height: 60px;
      display: grid; 
      grid-template-columns: auto 1fr auto; 
      align-items: center;
      padding: 0 30px; z-index: 2100;
      background: rgba(10, 10, 11, 0.0);
      backdrop-filter: blur(0px);
    }

    .live-clock { 
        color: var(--gold); font-weight: 800; letter-spacing: 2px; 
        text-align: center; font-size: 0.9rem; transition: all 1s; 
    }
    
    .micro-btn {
      transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
      cursor: pointer;
    }
    .micro-btn:hover {
      transform: scale(1.08);
      filter: brightness(1.2);
      box-shadow: 0 0 15px rgba(212, 175, 55, 0.4);
    }

    .top-btn {
      background: rgba(255,255,255,0.05); border: 1px solid var(--border);
      color: #fff; padding: 8px 18px; border-radius: 12px; font-size: 0.7rem; font-weight: 700;
      text-decoration: none; display: flex; align-items: center; gap: 8px; width: fit-content;
    }

    .btn-py { 
      background: var(--pedidos-ya); border: none; 
      justify-content: center; text-align: center; width: 110px; 
    }

    /* --- HEADER (T√çTULOS DIN√ÅMICOS) --- */
    header {
      position: fixed; top: 60px; width: 100%; z-index: 1900;
      background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(5px);
      padding: 1rem 2rem; border-bottom: 1px solid var(--border);
      display: flex; justify-content: space-between; align-items: center;
      transition: all 1s cubic-bezier(0.68, -0.55, 0.27, 1.55);
    }
    
    header.centered {
      top: 150px; background: transparent; border: none;
      justify-content: center; flex-direction: column; gap: 10px; transform: scale(1.2);
    }

    header.merged-top {
      top: 75px; height: 50px; padding: 0; 
      background: transparent; border: none;
      justify-content: center; transform: scale(0.7); pointer-events: none; 
      z-index: 1950;
    }

    body.final-state .live-clock { opacity: 0; transform: translateY(-20px); } 
    
    .brand { font-family: 'Playfair Display', serif; font-size: 1.8rem; color: #fff; text-shadow: 0 4px 10px rgba(0,0,0,0.5); }
    .brand span { color: var(--gold); }
    
    .status-badge { display: flex; align-items: center; gap: 10px; font-size: 0.7rem; background: rgba(255,255,255,0.05); padding: 6px 15px; border-radius: 20px; border: 1px solid var(--border); transition: opacity 0.5s; }
    header.centered .status-badge { opacity: 0; }
    header.merged-top .status-badge { display: none; }

    .led { width: 8px; height: 8px; border-radius: 50%; }
    .led.green { background: var(--success); box-shadow: 0 0 10px var(--success); }
    .led.red { background: var(--error); box-shadow: 0 0 10px var(--error); }

    #hh-dynamic-text {
        font-size: 0.8rem; font-weight: 800; color: var(--gold); 
        letter-spacing: 2px; text-transform: uppercase;
        opacity: 0; transition: opacity 1s; display: none; text-align: center;
    }
    header.centered #hh-dynamic-text { display: block; opacity: 1; }

    /* --- CATALOGO --- */
    .catalog-section { padding: 5rem 1.5rem; max-width: 1400px; margin: 0 auto; overflow: hidden; margin-top: 120px; }
    .catalog-title { text-align: center; margin-bottom: 4rem; transition: transform 1.5s ease-in-out, opacity 1.5s; position: relative; left: 0; }
    .catalog-title.slide-out { transform: translateX(-150vw); opacity: 0; }
    .catalog-title h2 { font-family: 'Playfair Display', serif; font-size: 3rem; color: #fff; margin-bottom: 0.5rem; }
    
    /* --- GRID CERVEZAS --- */
    .grid-beers { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 25px; }
    .beer-card {
      background: var(--card-bg); border: 1px solid rgba(255,255,255,0.1);
      border-radius: 20px; padding: 2rem; backdrop-filter: blur(15px); 
      display: flex; flex-direction: column; align-items: center;
      opacity: 0; transform: translateY(50px);
      transition: opacity 0.8s ease-out, transform 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
    }
    .beer-card.visible { opacity: 1; transform: translateY(0); }
    .beer-card:hover { transform: translateY(-10px) !important; border-color: var(--gold); background: rgba(255, 255, 255, 0.06); transition: transform 0.3s; }
    .beer-img { width: 100%; height: 250px; object-fit: contain; margin-bottom: 1.5rem; filter: drop-shadow(0 15px 25px rgba(0,0,0,0.5)); }
    .beer-category { font-size: 0.65rem; text-transform: uppercase; color: var(--gold); font-weight: 800; letter-spacing: 2px; margin-bottom: 0.5rem; }
    .beer-name { font-family: 'Playfair Display', serif; font-size: 1.8rem; color: #fff; margin-bottom: 1rem; text-align: center; }
    .beer-desc { font-size: 0.85rem; color: #ccc; text-align: center; line-height: 1.6; margin-bottom: 2rem; min-height: 60px; }
    .tech-sheet { width: 100%; display: grid; grid-template-columns: 1fr 1fr; gap: 15px; border-top: 1px solid rgba(212, 175, 55, 0.2); padding-top: 1.5rem; }
    .tech-item { text-align: center; }
    .tech-label { font-size: 0.6rem; color: var(--gold); text-transform: uppercase; font-weight: 800; display: block; margin-bottom: 5px; }
    .tech-value { font-size: 1.2rem; color: #fff; font-weight: 700; font-variant-numeric: tabular-nums; }

    /* --- FORMULARIO --- */
    .form-wrapper { 
        background: rgba(10, 10, 11, 0.95); 
        padding: 2.5rem; 
        border-radius: 25px; 
        border: 1px solid var(--border); 
        max-width: 900px; 
        margin: 4rem auto; 
        box-shadow: 0 20px 50px rgba(0,0,0,0.6);
    }

    .form-section-title {
        color: var(--gold); font-size: 0.8rem; font-weight: 800; text-transform: uppercase; 
        letter-spacing: 2px; margin-bottom: 15px; border-bottom: 1px solid #333; padding-bottom: 5px;
    }

    .counter-control {
        display: flex; align-items: center; justify-content: center; gap: 20px;
        background: rgba(255,255,255,0.03); padding: 15px; border-radius: 15px;
        margin-bottom: 2rem;
    }
    .btn-count {
        width: 45px; height: 45px; border-radius: 50%; border: 1px solid var(--gold);
        background: transparent; color: var(--gold); font-size: 1.5rem; display: flex; 
        align-items: center; justify-content: center; transition: 0.2s;
    }
    .btn-count:hover { background: var(--gold); color: #000; }
    #people-display { font-size: 2rem; font-family: 'Playfair Display'; font-weight: 700; min-width: 40px; text-align: center; }

    .input-group { margin-bottom: 2rem; }
    .custom-input { 
        width: 100%; padding: 15px; background: rgba(255,255,255,0.05); 
        border: 1px solid #444; border-radius: 10px; color: #fff; font-family: 'Plus Jakarta Sans';
        font-size: 1rem; outline: none; transition: 0.3s;
    }
    .custom-input:focus { border-color: var(--gold); box-shadow: 0 0 10px rgba(212,175,55,0.2); }

    .sector-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-bottom: 2rem; }
    .sector-card {
        padding: 15px; border: 1px solid #444; border-radius: 12px;
        text-align: center; transition: 0.3s; background: rgba(255,255,255,0.02);
        display: flex; flex-direction: column; gap: 5px;
    }
    .sector-card:hover { border-color: var(--gold); background: rgba(212,175,55,0.05); }
    .sector-card.selected { background: var(--gold); border-color: var(--gold); color: #000; }
    .sector-card h4 { font-weight: 800; font-size: 0.9rem; }
    .sector-card p { font-size: 0.7rem; opacity: 0.7; }
    .sector-card.selected p { opacity: 1; color: #000; font-weight: 700; }

    .time-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 10px; margin-bottom: 2rem; }
    .time-slot {
        padding: 10px 5px; border-radius: 8px; border: 1px solid #444;
        background: transparent; color: #ccc; font-size: 0.85rem; font-weight: 600;
        transition: 0.3s; text-align: center; position: relative; overflow: hidden;
    }
    .time-slot:not(.disabled):hover { border-color: var(--gold); color: var(--gold); }
    .time-slot.selected { background: var(--gold); color: #000; border-color: var(--gold); font-weight: 800; }
    .time-slot.disabled { opacity: 0.4; cursor: not-allowed; border-color: #333; background: #1a1a1a; }
    .spots-left { font-size: 0.6rem; display: block; margin-top: 3px; }
    .spots-left.full { color: var(--error); }
    .time-slot.selected .spots-left { color: #000; }

    .btn-submit { 
        padding: 1.2rem; background: var(--gold); border: none; border-radius: 50px; 
        font-weight: 800; cursor: pointer; width: 100%; margin-top: 10px; font-size: 1rem;
        letter-spacing: 1px; transition: 0.3s;
    }
    .btn-submit:disabled { background: #444; color: #888; cursor: not-allowed; }
    .btn-submit:not(:disabled):hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(212,175,55,0.3); }


    /* --- BOTTOM DOCK --- */
    .bottom-dock { 
        position: fixed; bottom: 0; width: 100%; background: rgba(10,10,11,0.98); 
        padding: 15px 30px; display: flex; justify-content: space-between; align-items: center; 
        z-index: 1900; border-top: 1px solid var(--border); 
    }
    
    .dock-group { display: flex; gap: 15px; align-items: center; }
    .social-btn { 
        width: 42px; height: 42px; border-radius: 50%; display: flex; align-items: center; justify-content: center;
        background: rgba(255,255,255,0.1); transition: 0.3s;
    }
    .social-btn svg { width: 22px; height: 22px; fill: #fff; }
    .social-btn.fb:hover { background: var(--fb-blue); }
    .social-btn.ig:hover { background: var(--ig-gradient); }
    .social-btn.map:hover { background: var(--gold); }
    .social-btn.map:hover svg { fill: #000; }

    /* --- WHATSAPP FLOAT --- */
    .wa-float {
        position: fixed; bottom: 90px; right: 20px;
        background: #25D366; width: 60px; height: 60px; border-radius: 50%;
        display: flex; align-items: center; justify-content: center;
        box-shadow: 0 0 20px rgba(37, 211, 102, 0.6); z-index: 2000;
        border: 2px solid white; transition: all 0.3s ease;
    }
    .wa-float:hover { transform: scale(1.1) rotate(10deg); }

    /* --- AGE GATE --- */
    #age-gate { position: fixed; inset: 0; background: #000; z-index: 10000; display: flex; flex-direction: column; justify-content: center; align-items: center; }
    .age-buttons { display: flex; gap: 20px; margin-top: 2rem; }
    .btn-age { padding: 15px 40px; border: 1px solid var(--gold); background: transparent; color: var(--gold); font-weight: 800; cursor: pointer; border-radius: 50px; transition: 0.3s; }
    .btn-age:hover { background: var(--gold); color: #000; }
    .btn-no { border-color: #555; color: #777; }
    .btn-no:hover { background: #333; color: #fff; border-color: #fff; }

  </style>
</head>
<body>

  <video id="bg-video" autoplay muted loop playsinline><source src="VIDEO ANTARES.mp4" type="video/mp4"></video>
  <audio id="bg-music" loop><source src="Neon Currents.mp3" type="audio/mpeg"></audio>

  <div id="age-gate">
    <img src="ANTARES FOTOGRAMA2.png" style="width:180px; margin-bottom: 2rem;">
    <h2 style="font-family:'Playfair Display'; color: #fff;">¬øERES MAYOR DE 18 A√ëOS?</h2>
    <div class="age-buttons">
      <button class="btn-age micro-btn" onclick="entrar()">S√ç, INGRESAR</button>
      <button class="btn-age btn-no micro-btn" onclick="denegar()">NO</button>
    </div>
  </div>

  <div class="top-bar">
    <a href="https://www.pedidosya.com.ar" target="_blank" class="top-btn btn-py micro-btn">PEDIDOS YA</a>
    <div class="live-clock" id="liveClock">00:00:00</div>
    <button id="musicToggle" class="top-btn micro-btn" style="justify-self: end;" onclick="toggleMusic()">SOUND OFF</button>
  </div>

  <header id="main-header">
    <div class="brand">ANTARES <span>CAMPANA</span></div>
    <div id="hh-dynamic-text">VISITA NUESTRO LOCAL</div>
    <div class="status-badge">
      <div class="led" id="statusLed"></div>
      <span id="statusText">...</span>
    </div>
  </header>

  <section class="catalog-section">
    <div class="catalog-title" id="catalog-title-container">
      <h2>Nuestras Cervezas</h2>
      <p>FICHA T√âCNICA OFICIAL</p>
    </div>
    <div class="grid-beers" id="beer-grid"></div>
  </section>

  <div class="form-wrapper">
    <h2 style="text-align:center; font-family:'Playfair Display'; color:var(--gold); margin-bottom:0.5rem; font-size: 2.5rem;">Reserva tu Mesa</h2>
    <p style="text-align:center; color:#888; margin-bottom:2rem; font-size:0.9rem;">Consulta disponibilidad en tiempo real</p>
    
    <form id="reserva-form" onsubmit="return false;">
      
      <div class="form-section-title">1. ¬øCU√ÅNTOS SON?</div>
      <div class="counter-control">
        <button type="button" class="btn-count micro-btn" onclick="updatePeople(-1)">-</button>
        <div id="people-display">2</div>
        <button type="button" class="btn-count micro-btn" onclick="updatePeople(1)">+</button>
      </div>

      <div class="form-section-title">2. TUS DATOS</div>
      <div style="display:grid; grid-template-columns: 1fr 1fr; gap: 15px;">
          <input type="text" id="nombre-input" class="custom-input" placeholder="Nombre y Apellido" required oninput="checkFormValidity()">
          <input type="date" id="fecha-input" class="custom-input" required onchange="resetAvailability(); checkFormValidity()">
      </div>
      <div style="margin-bottom: 2rem;"></div>

      <div class="form-section-title">3. ELIGE TU SECTOR (9 Mesas por sector)</div>
      <div class="sector-grid">
        <div class="sector-card micro-btn" onclick="selectSector('Patio Frente', this)">
            <h4>üçª Patio Frente</h4>
            <p>Vista a la calle</p>
        </div>
        <div class="sector-card micro-btn" onclick="selectSector('Patio Trasero', this)">
            <h4>üå≥ Patio Trasero</h4>
            <p>Aire libre y tranquilo</p>
        </div>
        <div class="sector-card micro-btn" onclick="selectSector('Sal√≥n Interior', this)">
            <h4>üè† Sal√≥n Interior</h4>
            <p>Climatizado y m√∫sica</p>
        </div>
      </div>

      <div class="form-section-title">4. SELECCIONA HORARIO DISPONIBLE</div>
      <div id="time-grid-container" class="time-grid">
          <p style="grid-column: 1/-1; text-align: center; color: #555; padding: 20px;">
              Primero selecciona una fecha y un sector para ver disponibilidad.
          </p>
      </div>

      <button type="button" id="submit-btn" class="btn-submit micro-btn" disabled onclick="finalizeReservation()">
          CONFIRMAR Y DESCARGAR TICKET üì≤
      </button>
    </form>
  </div>

  <div class="bottom-dock">
    <div class="dock-group">
        <a href="https://maps.app.goo.gl/DEJ8AvmETpMu4RBw6" target="_blank" class="social-btn map micro-btn">
            <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
        </a>
    </div>

    <div class="dock-group">
        <a href="https://www.instagram.com/antares_campana/?hl=es" target="_blank" class="social-btn ig micro-btn">
            <svg viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
        </a>
        <a href="https://www.facebook.com/CampanaAntares/?locale=es_LA" target="_blank" class="social-btn fb micro-btn">
            <svg viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
        </a>
    </div>
  </div>

  <a href="https://api.whatsapp.com/send?phone=+543489483690&text=Hola%20Antares!!" class="wa-float micro-btn" target="_blank">
    <svg width="30" height="30" viewBox="0 0 24 24" fill="white"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
  </a>

  <script>
    const beers = [
      { name: "K√ñLSCH", cat: "Suaves", desc: "Interpretaci√≥n del estilo de Colonia. Refrescante, dorada y cristalina.", ibu: 2, abv: 5.0, img: "Kolsch03.png" },
      { name: "PLAYA GRANDE", cat: "Suaves", desc: "Un estilo propio, a base de trigo, con avena, c√°scara de naranja, coriandro y jengibre.", ibu: 11, abv: 5.0, img: "PlayaGrande02.png" },
      { name: "ESPIRITU LAGER", cat: "Suaves", desc: "Una cerveza dorada brillante, equilibrada y refrescante, de cuerpo.", ibu: 11, abv: 4.7, img: "Lager.png" },
      { name: "HONEY BEER", cat: "Maltosas", desc: "Una cerveza dorada brillante, equilibrada y refrescante, de cuerpo.", ibu: 11, abv: 4.7, img: "Honey04.png" },
      { name: "SCOTCH", cat: "Maltosas", desc: "Una cerveza balanceada, levemente maltosa, con notas de caramelos y una dosis de miel que le da un aroma refinado.", ibu: 11, abv: 7.5, img: "Scotch03.png" },
      { name: "BARLEY WINE", cat: "Maltosas", desc: "Una cerveza maltosa de alta graduaci√≥n alcoh√≥lica, compleja y robusta.", ibu: 2, abv: 8.5, img: "Barley02.png" },
      { name: "IPA", cat: "Lupulada", desc: "Una cerveza lupulada, amarga, con sutiles sabores frutados y aroma c√≠trico.", ibu: 58, abv: 6.6, img: "IPA02.png" },
      { name: "CARAVANA", cat: "Lupulada", desc: "Una session IPA cuyas notas frutadas y cr√≠ticas provienen de los l√∫pulos americanos agregados en Dry Hop.", ibu: 48, abv: 4.2, img: "Caravana02.png" },
      { name: "IPA sin Alcohol", cat: "Lupulada", desc: "Una IPA con todas las cualidades del estilo pero sin alcohol, con notas citricas, frutadas, con mucho sabor a lupulos, de amargor medio.", ibu: 48, abv: 0.0, img: "Ipasinalcohol.png" },
      { name: "PORTER", cat: "Negra", desc: "Cerveza negra con notas de caf√© y chocolate. Compleja y elegante.", ibu: 27, abv: 5.2, img: "Porter02.png" },
      { name: "IMPERIAL STOUT", cat: "Negra", desc: "Stout robusta con notas de caf√© tostado y chocolate negro.", ibu: 22, abv: 7.5, img: "Imperial02.png" },
      { name: "CREAM STOUT", cat: "Negra", desc: "Es una cerveza tostada de origen irland√©s. En ella se descubren sabores a chocolate y nueces en el paladar.", ibu: 22, abv: 7.0, img: "CreamStout02.png" },
      { name: "CATALINA", cat: "De Barricas", desc: "La guarda en barricas de roble ex Bourbon, el tiempo y la larga espera, hacen que Catalina, Russian Imperial Stout.", ibu: 22, abv: 11.0, img: "Catalina03.png" },
      { name: "CENTINELA", cat: "De Barricas", desc: "Despu√©s de algunos meses de a√±ejamiento en las Barricas de Roble ex Bourbon, utilizadas para a√±ejar destilados que le aportan car√°cter de vainilla, coco y dulce de leche, el Centinela nos entreg√≥ una cerveza con 14 grados de alcohol.", ibu: 18, abv: 14.0, img: "ElCentinela02.png" },
      { name: "FRAGARIA", cat: "Edicion Limitada", desc: "Una cerveza innovadora con notas de frutilla. Edici√≥n limitada que combina tradici√≥n y creatividad.", ibu: 2, abv: 6.5, img: "Fragaria.png" }
    ];

    function loadBeers() {
      const grid = document.getElementById('beer-grid');
      let html = '';
      beers.forEach(b => {
        html += `
          <article class="beer-card">
            <span class="beer-category">${b.cat}</span>
            <img src="${b.img}" class="beer-img" alt="${b.name}">
            <h3 class="beer-name">${b.name}</h3>
            <p class="beer-desc">${b.desc}</p>
            <div class="tech-sheet">
              <div class="tech-item"><span class="tech-label">IBU</span><span class="tech-value" data-target="${b.ibu}" data-suffix="">0</span></div>
              <div class="tech-item"><span class="tech-label">ABV</span><span class="tech-value" data-target="${b.abv}" data-suffix="%">0</span></div>
            </div>
          </article>
        `;
      });
      grid.innerHTML = html;
    }

    function runCounterAnimation(cardElement) {
      const counters = cardElement.querySelectorAll('.tech-value');
      counters.forEach(counter => {
        const target = +counter.getAttribute('data-target');
        const suffix = counter.getAttribute('data-suffix');
        const duration = 2000; const increment = target / (duration / 20);
        let current = 0;
        const updateCounter = () => {
          current += increment;
          if (current < target) {
            counter.innerText = (Number.isInteger(target) ? Math.ceil(current) : current.toFixed(1)) + suffix;
            setTimeout(updateCounter, 20);
          } else { counter.innerText = target + suffix; }
        };
        updateCounter();
      });
    }

    function checkHappyHour(day, hour) {
        if (day >= 1 && day <= 6 && hour >= 16 && hour < 20) return "HAPPY HOUR ACTIVO (16-20 HS)";
        if (day === 0 && hour === 1) return "HAPPY HOUR NOCTURNO (01-02 HS)";
        return "VISITA NUESTRO LOCAL";
    }

    function updateStatus() {
      const now = new Date();
      document.getElementById('liveClock').innerText = now.toLocaleTimeString();
      const isOpen = (now.getHours() >= 16 || now.getHours() < 4);
      const led = document.getElementById('statusLed');
      const txt = document.getElementById('statusText');
      led.className = isOpen ? "led green" : "led red";
      txt.innerText = isOpen ? "ABIERTO" : "CERRADO";
      txt.style.color = isOpen ? "var(--success)" : "var(--error)";
      document.getElementById('hh-dynamic-text').innerText = checkHappyHour(now.getDay(), now.getHours());
    }

    function triggerAnimations() {
        setTimeout(() => {
            document.getElementById('catalog-title-container').classList.add('slide-out');
            document.getElementById('main-header').classList.add('centered');
            setTimeout(() => {
                document.getElementById('main-header').classList.remove('centered');
                document.getElementById('main-header').classList.add('merged-top');
                document.body.classList.add('final-state');
            }, 2000); 
            setTimeout(() => { revealCards(); }, 5000);
        }, 6000);
    }

    function revealCards() {
        const cards = document.querySelectorAll('.beer-card');
        cards.forEach((card, index) => {
            setTimeout(() => {
                card.classList.add('visible');
                runCounterAnimation(card);
            }, index * 200);
        });
    }

    function entrar() {
      document.getElementById('age-gate').style.opacity = '0';
      setTimeout(() => { document.getElementById('age-gate').style.display = 'none'; }, 500);
      const music = document.getElementById('bg-music');
      music.volume = 0.2; music.play().catch(()=>{});
      triggerAnimations();
    }

    function denegar() {
      document.getElementById('age-gate').innerHTML = `<h2 style="color:var(--error);">ACCESO DENEGADO</h2><a href="https://www.google.com" style="color:#fff;">Salir</a>`;
    }

    function toggleMusic() {
      const a = document.getElementById('bg-music');
      const btn = document.getElementById('musicToggle');
      if(a.paused) { a.play(); btn.innerText = "SOUND ON"; }
      else { a.pause(); btn.innerText = "SOUND OFF"; }
    }

    /* --- L√ìGICA DE RESERVAS, PERSISTENCIA Y PDF --- */
    
    let reservationState = {
        people: 2,
        sector: null,
        date: null,
        time: null
    };

    const timeSlots = ["16:30", "17:00", "17:30", "18:00", "18:30", "19:00", "19:30", "20:00", "20:30"];
    
    // Funci√≥n auxiliar para obtener cupos restantes (Simulaci√≥n DB Local)
    function getRemainingSpots(date, sector, time) {
        const key = `antares_${date}_${sector}_${time}`;
        const stored = localStorage.getItem(key);
        // Si no existe, iniciamos con 9 lugares
        if (stored === null) return 9;
        return parseInt(stored);
    }

    // Funci√≥n para ocupar un lugar
    function bookSpot(date, sector, time) {
        const key = `antares_${date}_${sector}_${time}`;
        let current = getRemainingSpots(date, sector, time);
        if (current > 0) {
            localStorage.setItem(key, current - 1);
        }
    }

    function updatePeople(change) {
        let newVal = reservationState.people + change;
        if (newVal < 1) newVal = 1;
        if (newVal > 20) newVal = 20;
        reservationState.people = newVal;
        document.getElementById('people-display').innerText = newVal;
        checkFormValidity();
    }

    function selectSector(sectorName, element) {
        document.querySelectorAll('.sector-card').forEach(c => c.classList.remove('selected'));
        element.classList.add('selected');
        reservationState.sector = sectorName;
        resetAvailability();
        checkFormValidity();
    }

    function resetAvailability() {
        const dateVal = document.getElementById('fecha-input').value;
        const gridContainer = document.getElementById('time-grid-container');
        
        reservationState.date = dateVal;
        reservationState.time = null;
        document.getElementById('submit-btn').disabled = true;

        if(!dateVal || !reservationState.sector) {
            gridContainer.innerHTML = '<p style="grid-column: 1/-1; text-align: center; color: #555; padding: 20px;">Selecciona fecha y sector.</p>';
            return;
        }

        generateTimeSlots(gridContainer, dateVal, reservationState.sector);
    }

    function generateTimeSlots(container, date, sector) {
        container.innerHTML = '';
        
        timeSlots.forEach(time => {
            // CONSULTAMOS LOCALSTORAGE PARA VER REALMENTE CUANTOS LUGARES QUEDAN
            const spotsLeft = getRemainingSpots(date, sector, time);
            
            const btn = document.createElement('button');
            btn.type = 'button';
            btn.className = 'time-slot micro-btn';
            
            if (spotsLeft === 0) {
                btn.classList.add('disabled');
                btn.innerHTML = `${time}<span class="spots-left full">AGOTADO</span>`;
                btn.disabled = true;
            } else {
                btn.innerHTML = `${time}<span class="spots-left">${spotsLeft} mesas lib.</span>`;
                btn.onclick = () => selectTime(time, btn);
            }
            container.appendChild(btn);
        });
    }

    function selectTime(time, btnElement) {
        document.querySelectorAll('.time-slot').forEach(b => b.classList.remove('selected'));
        btnElement.classList.add('selected');
        reservationState.time = time;
        checkFormValidity();
    }

    function checkFormValidity() {
        const name = document.getElementById('nombre-input').value;
        const btn = document.getElementById('submit-btn');
        
        if(name && reservationState.people && reservationState.date && reservationState.sector && reservationState.time) {
            btn.disabled = false;
            btn.style.opacity = "1";
        } else {
            btn.disabled = true;
            btn.style.opacity = "0.5";
        }
    }

    // --- FUNCI√ìN FINAL: PDF + LOCALSTORAGE + WHATSAPP ---
    async function finalizeReservation() {
        const n = document.getElementById('nombre-input').value;
        const f = reservationState.date;
        const s = reservationState.sector;
        const t = reservationState.time;
        const p = reservationState.people;

        // 1. GUARDAR EN MEMORIA LOCAL (Ocupar lugar)
        bookSpot(f, s, t);

        // 2. GENERAR PDF
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        
        // Estilos PDF simples
        doc.setFillColor(10, 10, 11); // Fondo oscuro simulado con rect negro
        doc.rect(0, 0, 210, 297, 'F');
        
        doc.setTextColor(212, 175, 55); // Dorado
        doc.setFont("helvetica", "bold");
        doc.setFontSize(22);
        doc.text("COMPROBANTE DE RESERVA", 105, 30, null, null, "center");
        doc.text("ANTARES CAMPANA", 105, 45, null, null, "center");
        
        doc.setDrawColor(212, 175, 55);
        doc.line(20, 55, 190, 55);

        doc.setTextColor(255, 255, 255);
        doc.setFontSize(14);
        doc.setFont("helvetica", "normal");
        
        let y = 80;
        doc.text(`Titular: ${n}`, 30, y); y+=15;
        doc.text(`Fecha: ${f}`, 30, y); y+=15;
        doc.text(`Hora: ${t} hs`, 30, y); y+=15;
        doc.text(`Sector: ${s}`, 30, y); y+=15;
        doc.text(`Personas: ${p}`, 30, y); y+=20;

        doc.setTextColor(150, 150, 150);
        doc.setFontSize(10);
        doc.text("Presente este comprobante al ingresar.", 105, y, null, null, "center");
        doc.text("Reservas v√°lidas con 15 min de tolerancia.", 105, y+10, null, null, "center");

        // Guardar PDF
        doc.save(`Reserva_Antares_${n.replace(/\s/g, '_')}.pdf`);

        // 3. ACTUALIZAR VISUALMENTE LA GRILLA (Para mostrar que baj√≥ el cupo inmediatamente)
        resetAvailability(); 

        // 4. ENVIAR A WHATSAPP
        setTimeout(() => {
            const msg = `*HOLA ANTARES! NUEVA RESERVA* üçª%0A%0Aüë§ *Nombre:* ${n}%0Aüë• *Personas:* ${p}%0AüìÖ *Fecha:* ${f}%0Aüìç *Sector:* ${s}%0A‚è∞ *Hora:* ${t}%0A%0A_El cliente ya descarg√≥ su comprobante PDF._`;
            window.open(`https://api.whatsapp.com/send?phone=+543489483690&text=${msg}`, '_blank');
        }, 1500); // Peque√±o delay para asegurar que la descarga del PDF inicie
    }

    window.onload = () => { loadBeers(); updateStatus(); setInterval(updateStatus, 1000); };
  </script>
</body>
</html>
















